/* ========================================================================= */
/* THEME-EFFECTS.CSS - DARK MODE, VISUAL EFFECTS, AND COMPLEX ANIMATIONS     */
/* ========================================================================= */

/* === Dark Theme Tokens & Base Styles === */
:root{
  --dm-bg1:#0b0b0f; --dm-bg2:#0f0f14; /* Dark mode background gradients */
  --dm-elev1:#121218; --dm-elev2:#181820; /* Elevated surface colors */
  --dm-border:#2a2a33; --dm-text:#e8e8f0; --dm-muted:#b7b7c3; /* Colors for borders, text, and muted text */
}

/* Apply dark mode background gradient and text color to body */
body.dark-mode{
  background: linear-gradient(135deg, var(--dm-bg1), var(--dm-bg2));
  color: var(--dm-text);
}

/* Subtle fixed dark overlay for dark mode background */
body.dark-mode::before{
  content:""; position:fixed; inset:0; background: rgba(0,0,0,.18);
  pointer-events:none; z-index:-3;
}

/* === Dark Mode Component Variants === */
/* Navigation bar dark mode styling */
body.dark-mode .nav{
  background: rgba(10,10,14,.98);
  border-bottom: 1px solid var(--dm-border);
  box-shadow: 0 2px 20px rgba(0,0,0,.50);
}

/* Navigation link hover/active color in dark mode */
body.dark-mode .nav a::before{ background:#ff6b8f; }

/* Dark mode styling for generic cards and festival cards */
body.dark-mode .card, body.dark-mode .festival-card{
  background: var(--dm-elev1) !important; color: var(--dm-text);
  box-shadow: 0 8px 28px rgba(0,0,0,.35); border: 1px solid rgba(255,255,255,.04);
}
body.dark-mode .card h2, body.dark-mode .festival-card h3{ color:#ff6b8f; }
body.dark-mode .card p, body.dark-mode .festival-card .content p{ color: var(--dm-muted); }

/* Dark mode socials icon background change */
body.dark-mode .socials a { background: rgba(255,255,255,0.06); }
body.dark-mode .socials a:hover { background: rgba(255,255,255,0.12); }

/* Dark mode footer text color */
body.dark-mode .site-footer { color: var(--dm-muted, #b7b7c3); }

/* Hide hero header completely in dark mode (if a page has no dark hero) */
body.dark-mode .hero-header {
  display: none !important;
}

/* === Night Mode Elements Visibility Control === */
/* Ensure stars and spirits are only visible in dark mode */
body:not(.dark-mode) .stars-layer,
body:not(.dark-mode) .spirits-layer {
  display: none; /* Explicitly hide in light mode */
}

/* === Stars Background Effect === */
.stars-layer{ position: fixed; inset: 0; pointer-events: none; z-index: -2; }
.star{
  position: absolute; width:2px; height:2px; border-radius:50%;
  background:#fff; opacity:.18; box-shadow:0 0 6px rgba(255,255,255,.6);
  animation: twinkle var(--tw, 4.5s) ease-in-out var(--delay, 0s) infinite; will-change: opacity;
}
@keyframes twinkle{ 0%,100%{opacity:.12} 50%{opacity:.8} }

/* === Spirits/Wisp Background Effect === */
.spirits-layer{ position: fixed; inset:0; pointer-events:none; z-index:-1; }
.spirit{
  position:absolute; left:calc(var(--x,50) * 1%); top:calc(var(--y,50) * 1%);
  width:var(--s,18px); height:var(--s,18px); border-radius:50%;
  /* Radial gradients create a soft glow effect */
  background:
    radial-gradient(35% 35% at 50% 40%, rgba(255,255,255,.95), rgba(255,255,255,.2) 60%, transparent 61%),
    radial-gradient(80% 80% at 50% 50%, rgba(168,216,255,.16), rgba(229,9,20,.07), transparent 65%);
  filter: blur(.2px); opacity:0;
  /* Multiple animations for floating and fading */
  animation:
    wispFloatY var(--t, 18s) ease-in-out var(--delay, 0s) infinite alternate,
    wispFloatX calc(var(--t, 18s) * 1.15) linear var(--delay, 0s) infinite alternate,
    wispFade   6s ease-in-out forwards;
}
@keyframes wispFloatY{ to{ transform: translateY(-18px); } } /* Vertical float */
@keyframes wispFloatX{ to{ transform: translateX(22px); } } /* Horizontal float */
@keyframes wispFade{  0%{opacity:0} 20%{opacity:.5} 80%{opacity:.5} 100%{opacity:0} } /* Fade in and out */


/* === Hero Header Title Animations (for Home Page) === */
.container{
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
  margin-top: 100px;
}

/* First title: typewriter effect */
.container h1:nth-child(1) {
  color: #000000;
  font-family: 'Philosopher', serif;
  font-weight: 1800;
  font-size: 40px;
  margin: 0 0 0 25%;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  width: 370px;
  animation: type 2.5s steps(40,end) forwards;
  z-index: 1;
}

/* Second title: shrinking/color gradient effect */
.container h1:nth-child(2) {
  opacity: 0;
  font-family: "Work Sans", sans-serif;
  margin: 0  auto auto auto;
  background: linear-gradient(to right, #da1d1d, #f67280, #c06c84);
  font-weight: 1800;
  font-size: 100px;  
  width: 430px;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  overflow: hidden;
  text-shadow: 0px 0px  5px aqua,0px 0px 10px aqua,0px 0px  15px aqua,0px 0px  20px aqua,;
  animation: shring-animation 2.7s steps(40,end) 2s forwards, blink .5s step-end infinite alternate ;
}

/* Animation for the shrinking/gradient text */
@keyframes shring-animation {
  0% { background-position: 0 0; opacity: 0; width: 0; }
  1% { background-position: 0 0; opacity: 1; border-right: 1px solid orange; }
  50% { background-position: 150px 0; opacity: 1; border-right: 1px solid orange; }
  100% { background-position: 400px 0; opacity: 1; border-right: 1px solid orange; }
}

/* Animation for the typewriter effect (typing out the text) */
@keyframes type {
  0% { width: 0; }
  1%, 99%{ border-right: 1px solid orange; }
  100%{ border-right: none; }
}

/* Animation for the blinking cursor effect */
@keyframes blink {
  50% { border-color: transparent; }
}

/* === 3D Parallax Background Layer === */
.hero-header {
  perspective: 1000px; /* Gives a 3D depth to the element */
}

.parallax-bg {
  position: absolute;
  inset: 0;
  background: url("images/kumari.jpg") no-repeat center center / cover;
  transform: translateZ(-50px) scale(1.3); /* Pushes back and scales up to cover */
  will-change: transform;
  transition: transform 0.2s ease-out;
  z-index: -1;
}


/* === Festival Magical Cards: Backgrounds and Effects === */
/* Magical glowing skewed background before hover */
.container .box::before {
  content:' ';
  position: absolute;
  top: 0;
  left: 50px;
  width: 50%;
  height: 100%;
  background: #fff;
  border-radius: 8px;
  transform: skewX(15deg);
  transition: 0.5s;
}

/* Blurred copy of the background for the glow effect */
.container .box::after {
  content:'';
  position: absolute;
  top: 0;
  left: 50px;
  width: 50%;
  height: 100%;
  background: #fff;
  border-radius: 8px;
  transform: skewX(15deg);
  transition: 0.5s;
  filter: blur(30px);
}

/* Hover effect: un-skew and expand the glowing background */
.container .box:hover:before,
.container .box:hover:after {
  transform: skewX(0deg);
  left: 20px;
  width: calc(100% - 90px);
}

/* Different festival colors using linear gradients */
.container .box:nth-child(1):before,
.container .box:nth-child(1):after {
  background: linear-gradient(315deg, #ffbc00, #ff0058); /* Color 1: Yellow/Pink */
}
.container .box:nth-child(2):before,
.container .box:nth-child(2):after {
  background: linear-gradient(315deg, #03a9f4, #ff0058); /* Color 2: Blue/Pink */
}
.container .box:nth-child(3):before,
.container .box:nth-child(3):after {
  background: linear-gradient(315deg, #4dff03, #00d0ff); /* Color 3: Green/Cyan */
}

/* Floating blur sparkles container */
.container .box span {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 3;
  pointer-events: none;
}

/* Sparkle elements (before and after pseudo-elements) */
.container .box span::before,
.container .box span::after {
  content:'';
  position: absolute;
  width: 0;
  height: 0;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  opacity: 0;
  transition: 0.5s;
  animation: animate 2s ease-in-out infinite;
  box-shadow: 0 5px 15px rgba(0,0,0,0.08);
}

/* Sparkle appearance on hover */
.container .box:hover span::before {
  top: -50px; left: 50px;
  width: 100px; height: 100px;
  opacity: 1;
}
.container .box:hover span::after {
  bottom: -50px; right: 50px;
  width: 100px; height: 100px;
  opacity: 1;
  animation-delay: -1s;
}

/* Animation for subtle floating movement of sparkles */
@keyframes animate {
  0%, 100% { transform: translateY(10px); }
  50% { transform: translate(-10px); }
}

